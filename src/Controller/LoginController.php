<?phpnamespace MovieTracker\Controller;use MovieTracker\Repository\UserRepository;class LoginController implements Controller{    private UserRepository $userRepository;    public function __construct()    {        $this->userRepository = UserRepository::getSingleton();    }    public function processRequest(): void    {        if($_SERVER['REQUEST_METHOD'] == 'GET' && isset($_SESSION['email'])){            $email = $_COOKIE['email'];            unset($_SESSION['email']);            $successMessage = 'Cadastro realizado com sucesso!';            $_SESSION['successMessage'] = $successMessage;        }        if($_SERVER['REQUEST_METHOD'] == 'POST'){            $email = filter_input(INPUT_POST, 'email', FILTER_VALIDATE_EMAIL);            if($email){                $user = $this->userRepository->findUserByEmail($email);                if(!is_null($user)){                    $userPassword = $user->getPassword();                } else {                    $userPassword = '';                }                $password = filter_input(INPUT_POST, 'password');                $credentialStatus = password_verify($password, $userPassword);                if($credentialStatus){                    $_SESSION['loginStatus'] = true;                    header('Location: /');                    exit();                } else {                    $errorMessage = 'Usu치rio ou senha inv치lido(s)';                }            } else {                $errorMessage = 'Usu치rio ou senha inv치lido(s)';            }            $_SESSION['errorMessage'] = $errorMessage;        }        require_once __DIR__ . "/../../Views/login.php";    }}